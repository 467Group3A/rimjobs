<!doctype html>
<html lang="en">

<head>
    <title>Products</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <!-- FontAwesome 6.2.0 CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Rim Jobs CSS -->
    <link rel="stylesheet" href="/assets/stylesheet.css">
    <style>
        .navbar {
            background-color: #824538;
        }
    </style>

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg borderSilver">
            <div class="container-fluid">
                <a class="navbar-brand" href="">
                    <img src="/assets/Logo2x.png" alt="Rim Jobs" width="320" height="40">
                </a>
                <div class="collapse navbar-collapse" id="collapsibleNavId">
                    <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                        <li class="nav-item">
                            <a id="bouncify" class="nav-link fs-5 fw-bold" href="">
                                <i class="fa-solid fa-warehouse"></i> Home</a>
                        </li>
                        <li class="nav-item">
                            <a id="spinnify" class="nav-link fs-5" href="">
                                <i class="fas fa-dharmachakra"></i> View All Products</a>
                        </li>
                        <li class="nav-item">
                            <a id="bouncify2" class="nav-link fs-5" href="">
                                <i class="fas fa-truck-plane"></i> Find My Order</a>
                        </li>
                        <li class="nav-item">
                            <a id="bouncify3" class="nav-link fs-5" href="">
                                <i class="fas fa-door-closed"></i> Employee Portal</a>
                        </li>
                    </ul>
                    <a class="nav-link justify-content-end fs-5" href="">
                        <i class="fas fa-shopping-cart"></i> My Cart:
                        <span class="fw-2">(0)</span> </a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="container-lg borderSilver">
            <div id="items" v-cloak>
                <hr />
                <div class="container">
                    <div class="row">
                        <div v-for="info in data.data" class="col-md-4 mb-3">
                            <div class="card h-100">
                                <div class="labels d-flex justify-content-between position-absolute w-100">
                                </div>
                                <a href="#">
                                    <img v-bind:src="info.pictureURL" class="card-img-top" alt="Product">
                                </a>
                                <div class="card-body px-2 pb-2 pt-1">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <p class="h4 text-primary"> ${{ fix(info.price) }} </p>
                                        </div>
                                    </div>
                                    <p class="mb-0">
                                        <strong>
                                            <a href="#" class="text-secondary">{{ capitalize(info.description) }} </a>
                                        </strong>
                                    </p>
                                    <p class="mb-1">
                                        <small>
                                            <a href="#" class="text-secondary"> Ege Brands </a>
                                        </small>
                                    </p>
                                    <div class="d-flex mb-3 justify-content-between">
                                        <div>
                                            <p class="mb-0 small"><b>WEIGHT: </b> {{ fix(info.weight) }} lbs. </p>
                                            <p class="mb-0 small"><b>PART#: </b> {{ info.number }}</p>
                                            <p class="mb-0 small"><b>MPN#: </b> EG-000{{ info.number }}</p>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <div class="col px-0">
                                            <button class="btn btn-outline-primary btn-block"> Add To Cart
                                                <i class="fa fa-shopping-basket" aria-hidden="true"></i>
                                            </button>
                                        </div>
                                        <div class="ml-2">
                                            <select class="form-control">
                                                <option>1</option>
                                                <option>2</option>
                                                <option>3</option>
                                                <option>4</option>
                                                <option>5</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <button class="btn btn-light btn-block" style="width: 100%; height: 4rem;" @click="subPage()">Previous Page</button>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-light btn-block" style="width: 100%; height: 4rem;" @click="addPage()">Next Page</button>
                </div>
            </div>
            <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        </div>
    </main>
</body>
<footer>
    <!-- place footer here -->
</footer>
<!-- Bootstrap JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script>
    jQuery(document).ready(function ($) {
        $('#bouncify').hover(
            function () { $(this).children('i').addClass('fa-bounce') },
            function () { $(this).children('i').removeClass('fa-bounce') }
        )
    });
</script>
<script>
    jQuery(document).ready(function ($) {
        $('#spinnify').hover(
            function () { $(this).children('i').addClass('fa-spin') },
            function () { $(this).children('i').removeClass('fa-spin') }
        )
    });
</script>
<script>
    jQuery(document).ready(function ($) {
        $('#bouncify2').hover(
            function () { $(this).children('i').addClass('fa-bounce') },
            function () { $(this).children('i').removeClass('fa-bounce') }
        )
    });
</script>
<script>
    jQuery(document).ready(function ($) {
        $('#bouncify3').hover(
            function () { $(this).children('i').addClass('fa-bounce') },
            function () { $(this).children('i').removeClass('fa-bounce') }
        )
    });
</script>
<script>
    legacyParts = '/legacy-parts?page=';
    pageNumber = 1;
    const app = Vue.createApp({
        data() {
            return {
                data: []
            };
        },
        mounted() {
            fetch(legacyParts + pageNumber)
                .then(response => response.json())
                .then(data => {
                    this.data = data;
                })
                .catch(error => {
                    console.log('Error:', error);
                });
        },
        methods: {
            // Formats the price to 2 decimal places
            fix(num) {
                return num.toFixed(2);
            },
            //
            // Capitalizes the first letter of each word
            capitalize(str) {
                return str.replace(/\w\S*/g, function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); });
            },
            //
            // Increments the page number and fetches the next page
            subPage() {
                if (pageNumber > 1) {
                    pageNumber--;
                    fetch(legacyParts + pageNumber)
                        .then(response => response.json())
                        .then(data => {
                            this.data = data;
                        })
                        .catch(error => {
                            console.log('Error:', error);
                        });
                }
            },
            //
            // Increment the page number and fetches the next page
            addPage() {
                pageNumber++;
                fetch(legacyParts + pageNumber)
                    .then(response => response.json())
                    .then(data => {
                        this.data = data;
                    })
                    .catch(error => {
                        console.log('Error:', error);
                    });
            }
        }
    }).mount('#items');
</script>

</html>